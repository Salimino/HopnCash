<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- -->
<ion-header>  
    <ion-toolbar>
      <ion-title class="navtitle">Hop&Cash</ion-title>
    </ion-toolbar>
  </ion-header>
<ion-content padding class="animated fadeIn login">
  <div class="login-content">
      <br/>
    <!-- Logo -->
<!--     <div padding-horizontal text-center class="animated fadeInDown">
      <div class="logo"></div>
      <h2 ion-text class="text-primary">
        <strong>Hop & Cash</strong>
      </h2>
      <h2 ion-text class="text-primary">
        L'appli qui vous fera aimer vos ordures !
      </h2>
    </div> -->

    <!-- Login form -->
    <div>
      <!--<form  (ngSubmit)="userLogin()" [formGroup]="loginForm">
        <ion-item>
          <ion-label floating>
            <ion-icon name="mail" item-start class="text-primary"></ion-icon>
            Email
          </ion-label>
          <ion-input #email formControlName="email" type="email" [class.invalid]="!loginForm.controls.email.valid && loginForm.controls.email.dirty"
            (click)="showKeyboard()"></ion-input>
        </ion-item>
        <ion-item class="error-message" *ngIf="!loginForm.controls.email.valid  && loginForm.controls.email.dirty">
          <p>Please enter a valid email.</p>
        </ion-item>

        <ion-item>
          <ion-label floating>
            <ion-icon name="lock" item-start class="text-primary"></ion-icon>
            Password
          </ion-label>
          <ion-input #password formControlName="password" type="password" [class.invalid]="!loginForm.controls.password.valid && loginForm.controls.password.dirty"></ion-input>
        </ion-item>
        <ion-item class="error-message" *ngIf="!loginForm.controls.password.valid  && loginForm.controls.password.dirty">
          <p>Your password needs more than 6 characters.</p>
        </ion-item>
        <br>
        <div>
          <button ion-button icon-start block color="dark" type="submit">
            <ion-icon name="log-in"></ion-icon>
            Se connecter
          </button>
        </div>
      </form>-->
      <form (ngSubmit)="login()" [formGroup]="loginForm">
        <ion-list inset>
    
          <ion-item [ngClass]="{ invalid: emailErrors.hasError('*', ['touched', 'dirty']) }">
            <ion-label floating>
                  <ion-icon name="mail" item-start class="text-primary"></ion-icon>
                  Email
            </ion-label>
            <ion-input type="text" formControlName="email" (click)="showKeyboard()"></ion-input>
          </ion-item>
    
          <div ngxErrors="email" #emailErrors="ngxErrors">
            <div [ngxError]="['email', 'required']" [when]="['touched', 'dirty']">Email invalide</div>
          </div>
    
          <ion-item [ngClass]="{ invalid: passwordErrors.hasError('*', ['touched']) }">
              <ion-label floating>
                  <ion-icon name="lock" item-start class="text-primary"></ion-icon>
                  Password
              </ion-label>
            <ion-input type="password"  formControlName="password" (click)="showKeyboard()"></ion-input>
          </ion-item>
    
          <div ngxErrors="password" #passwordErrors="ngxErrors">
            <div [ngxError]="['minlength', 'required']" [when]="['touched']">Mot de passe de 6 caractères minimum</div>
          </div>
        </ion-list>
        <br/>
        <div padding-horizontal >
          <div class="form-error">{{loginError}}</div>
          <div>
<!--           <button ion-button full type="submit" [disabled]="!loginForm.valid">Log in</button> -->
          <button ion-button icon-start block color="dark" type="submit" [disabled]="!loginForm.valid">
              <ion-icon name="log-in"></ion-icon>
              Se connecter
            </button>
          </div>
        </div>
      </form>
    </div>
      <a ion-text color="secondary" tappable (click)="forgotPass()">
        <strong>Mot de passe oublié?</strong>
      </a>
    <div>
        <br/>
      <p text-center ion-text color="secondary">
        <strong>
        Ou
      </strong>
      </p>
      <br/>
      <ion-grid>
        <ion-row>
          <!-- <ion-col col-6> -->
            <button ion-button icon-start block class="btn-facebook" (click)="facebookLogin()" round>
              <ion-icon name="logo-facebook"></ion-icon>
              SE CONNECTER AVEC FACEBOOK
            </button>
          <!-- </ion-col> -->
          <!--<ion-col col-4>
            <button ion-button icon-only block class="btn-twitter">
              <ion-icon name="logo-twitter"></ion-icon>
            </button>
          </ion-col>-->
          <!-- <ion-col col-6> -->
            <button ion-button icon-start block class="btn-gplus" (click)="googlePlusLogin()" round>
              <ion-icon name="logo-googleplus"></ion-icon>
              SE CONNECTER AVEC GOOGLE 
            </button>
          <!-- </ion-col> -->
        </ion-row>
      </ion-grid>
    </div>
  <br/><br/>
    <!-- Other links -->
    <div text-center margin-top>
      <span ion-text color="secondary" tappable (click)="register()">Pas encore inscrit?
        <strong>Devient Hoppeur</strong>
      </span>
    </div>

  </div>
</ion-content>